# cargo-mutants configuration for Agent Backplane
# Run with: cargo mutants --no-shuffle

# ── Timeout per mutation ─────────────────────────────────────────────────
timeout = 90          # seconds; allow headroom for slower crates

# ── Focus on the core, deterministic crates ──────────────────────────────
examine_re = [
  "^crates/abp-core/",
  "^crates/abp-protocol/",
  "^crates/abp-glob/",
  "^crates/abp-policy/",
  "^crates/abp-workspace/",
  "^crates/abp-capability/",
  "^crates/abp-error/",
  "^crates/abp-receipt/",
  "^crates/abp-mapping/",
  "^crates/abp-config/",
  "^crates/abp-emulation/",
  "^crates/abp-telemetry/",
  "^crates/abp-dialect/",
]

# ── Interesting mutation targets (public functions that should kill mutants) ──
# Receipt hashing — hash computation must be exact
# examine_globs would go here if cargo-mutants supports it; for now we rely
# on examine_re above to include the right crates.

# ── Skip test modules, fuzz harnesses, and xtask helpers ─────────────────
exclude_re = [
  "#\\[cfg\\(test\\)]",    # inline test modules
  "^tests/",               # integration tests (not SUT)
  "^fuzz/",                # fuzz harnesses
  "^xtask/",               # build tooling
  "/tests\\.rs$",          # test files inside crates
  "_test\\.rs$",           # files named *_test.rs
]
